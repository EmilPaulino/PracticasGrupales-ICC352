<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/blog/"/>
    <script src="../assets/js/color-modes.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900&display=swap" rel="stylesheet"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/estilos/estilosUsuarios.css"/>
    <link rel="stylesheet" href="/estilos/estilosNavbar.css"/>
</head>
<body>
<!--Se agrega el navbar desde una plantilla -->
<div th:replace="/templates/fragmentos/navbar.html :: navbar"></div>
<h2 class="mt-4 mb-4 text-center"
    th:text="${usuario != null} ? 'Editar Usuario' : 'Crear Usuario'">
</h2>

<div class="formUsuario">

    <form th:action="${usuario != null} ? @{'/usuarios/editar/' + ${usuario.id}} : @{/usuarios/crear}" method="post">

        <!-- ID SOLO SI ES EDITAR -->
        <input type="hidden"
               name="id"
               th:if="${usuario != null}"
               th:value="${usuario.id}">

        <!-- USERNAME -->
        <div class="mb-3">
            <label class="form-label">Nombre de Usuario</label>
            <input type="text"
                   class="form-control"
                   name="username"
                   th:value="${usuario != null} ? ${usuario.username} : ''">
        </div>

        <!-- NOMBRE -->
        <div class="mb-3">
            <label class="form-label">Nombre Completo</label>
            <input type="text"
                   class="form-control"
                   name="nombre"
                   th:value="${usuario != null} ? ${usuario.nombre} : ''">
        </div>

        <!-- PASSWORD -->
        <div class="mb-3">
            <label class="form-label">Password</label>
            <input type="password"
                   class="form-control"
                   name="password">
        </div>

        <!-- ADMIN -->
        <div class="form-check form-check-inline">
            <input class="form-check-input"
                   type="checkbox"
                   name="administrator"
                   th:checked="${usuario != null} ? ${usuario.administrator} : false">
            <label class="form-check-label">Administrador</label>
        </div>

        <!-- AUTOR -->
        <div class="form-check form-check-inline">
            <input class="form-check-input"
                   type="checkbox"
                   name="autor"
                   th:checked="${usuario != null} ? ${usuario.autor} : false">
            <label class="form-check-label">Autor</label>
        </div>

        <!-- BOTONES -->
        <div class="buttonFooter mt-4">
            <a class="btn btn-secondary me-3" href="/usuarios">Cancelar</a>

            <button type="submit"
                    class="btn btn-primary"
                    th:text="${usuario != null} ? 'Actualizar Usuario' : 'Crear Usuario'">
            </button>
        </div>

    </form>
</div>
</body>
</html>